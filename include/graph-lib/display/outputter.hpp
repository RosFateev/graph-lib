//==============================================================================
///
/// @file outputter.hpp
///
/// @brief <description>
///
/// <Detailed description>
///
/// The documentation is available on the following website:
/// <website>
///
/// Support email: <email>
///
//==============================================================================

//==============================================================================
// Include only once
//
#ifndef GRAPH_LIB_DISPLAY_OUTPUTTER_HPP
#define GRAPH_LIB_DISPLAY_OUTPUTTER_HPP


//------------------------------------------------------------------------------
// Include files
//------------------------------------------------------------------------------
// System
// e.g.: #include <iostream>        // stdout

// Project
// e.g.: #include "IncludeFile.h"   // MyType_t


//------------------------------------------------------------------------------
// Global references
//------------------------------------------------------------------------------
// (none)


//------------------------------------------------------------------------------
// Constants
//------------------------------------------------------------------------------
// (none)


//------------------------------------------------------------------------------
// Macros
//------------------------------------------------------------------------------
// (none)


//------------------------------------------------------------------------------
// Forward declarations
//------------------------------------------------------------------------------
// (none)

namespace graph
{
    template<class id_type,
             typename implementation_type>
    class Graph;

} //    namespace graph


//------------------------------------------------------------------------------
// Data types
//------------------------------------------------------------------------------

//------------------------------------------------------------------------------
/// @brief namespace containing all structures used to display graph.
//------------------------------------------------------------------------------
namespace output
{
    //------------------------------------------------------------------------------
    /// @brief Outputter
    ///
    /// Displays graphs.
    //------------------------------------------------------------------------------
    template<class id_type>
    class Outputter
    {

        using graph_type    = graph::Graph<id_type>;
        using manager_type  = OutputterManager<id_type>;

    public:

        //------------------------------------------------------------------------------
        /// @brief Default constructor.
        //------------------------------------------------------------------------------
        Outputter();

        //------------------------------------------------------------------------------
        /// @brief Registers graph instance.
        ///
        /// @param[in] graph Graph to display.
        ///
        /// @return Reference to this object.
        ///
        //------------------------------------------------------------------------------
        Outputter&
        operator<<(const graph_type& graph);

        //------------------------------------------------------------------------------
        /// @brief Displays on screen all registered graph instances.
        //------------------------------------------------------------------------------
        void
        Show();



    private:

        //------------------------------------------------------------------------------
        /// manager
        ///
        ///Component implementing Outputters functionality.
        //------------------------------------------------------------------------------
        manager_type   manager_;
    };

} //    namespace output


//------------------------------------------------------------------------------
// Variable definitions
//------------------------------------------------------------------------------
// (none)


//------------------------------------------------------------------------------
// Function definitions
//------------------------------------------------------------------------------

namespace output
{
    //------------------------------------------------------------------------------
    //
    //  <Design related information>
    //
    //------------------------------------------------------------------------------
    template<class id_type>
    Outputter<id_type>::Outputter()
    {   }



    //------------------------------------------------------------------------------
    //
    //  <Design related information>
    //
    //------------------------------------------------------------------------------
    template<class id_type>
    Outputter<id_type>&
    Outputter<id_type>::operator<<(const typename Outputter<id_type>::graph_type& graph)
    {
        manager_.Register(graph);

        return *this;
    }



    //------------------------------------------------------------------------------
    //
    //  <Design related information>
    //
    //------------------------------------------------------------------------------
    template<class id_type>
    void
    Outputter<id_type>::Show()
    {
        manager_.Display();
    }

} //    namespace output



#endif // GRAPH_LIB_DISPLAY_OUTPUTTER_HPP
//==============================================================================
// End of outputter.hpp
// (note: the newline at the end of the file is intentional)
//==============================================================================
